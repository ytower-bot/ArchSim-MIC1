FASE 3 - SISTEMA DE MEMÓRIA
Data: 27/11/2025
Status: Completa

OBJETIVO
Implementar memória principal e subsistema de cache com rastreamento de hits/misses.

MEMÓRIA PRINCIPAL
- init_memory() - Inicializa array de memória 4096 × 16 bits
- m_read() - Lê palavra da memória no endereço MAR
- m_write() - Escreve palavra MBR na memória no endereço MAR
- load_program() - Carrega arquivo binário na memória
- Validação de endereço (intervalo 0-4095)

SISTEMA DE CACHE
Organização:
- 8 linhas de cache
- 4 palavras por linha
- Mapeamento direto
- Política write-through

Funções:
- init_cache() - Inicializa todas as linhas, define valid=0
- decompose_address() - Divide endereço de 12 bits em Tag(7) | Line(3) | Word(2)
- compare_tags() - Compara valores de tag de 7 bits
- cache_lookup() - Verifica se dado está na cache, atualiza contadores hit/miss
- cache_load_block() - Carrega bloco de 4 palavras da memória
- cache_read() - Lê com lookup na cache, carrega em miss
- cache_write() - Write-through para memória e cache
- print_cache_stats() - Exibe estatísticas de hit/miss
- get_hit_rate() - Calcula porcentagem de hits
- reset_cache_stats() - Limpa contadores

Estrutura da Cache:
- Bit válido para cada linha
- Tag de 7 bits para identificação de bloco
- 4 palavras de dados de 16 bits
- Contadores de hit/miss

ARQUIVOS CRIADOS
- src/cache.c (290 linhas)

ARQUIVOS MODIFICADOS
- src/memory.c (+104 linhas)
- include/cache.h (+1 declaração forward)

VALIDAÇÃO
- Operações de leitura/escrita na memória funcionais
- Detecção de hit/miss da cache funcionando
- Rastreamento de estatísticas preciso
- Mapeamento direto verificado
