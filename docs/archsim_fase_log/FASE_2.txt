FASE 2 - COMPONENTES DO DATAPATH
Data: 27/11/2025
Status: Completa

OBJETIVO
Implementar componentes essenciais do datapath: Shifter, Decoders, MAR/MBR.

COMPONENTES IMPLEMENTADOS

Shifter
- run_shifter() - Executa operação de deslocamento baseada em sinais de controle
- get_shifter_control_value() - Converte array de controle para inteiro
- Removido malloc desnecessário em init_shifter()

Decoders A/B
- run_decoder() - Seleciona registrador e carrega em latch
- select_register() - Mapeia endereço de 4 bits para ponteiro de registrador
- Suporte para 16 registradores (PC, AC, SP, IR, TIR, constantes, temporários)

Decoder C
- run_decoderC() - Escreve resultado no registrador selecionado
- Validação do sinal ENC antes de escrever
- Sinal de controle de 4 bits para seleção de registrador

MAR/MBR
- run_mar() - Carrega endereço do Latch B
- run_mbr() - Gerencia operações de leitura/escrita na memória
- Sinal RD: chama m_read() para carregar MBR da memória
- Sinal WR: chama m_write() para armazenar MBR na memória
- Sinal MBR: copia saída do shifter para MBR

ARQUIVOS MODIFICADOS
- src/shifter.c (+45 linhas)
- src/datapath.c (+45 linhas)
- include/datapath.h (+1 declaração)

VALIDAÇÃO
- Compilação bem-sucedida
- Todos os componentes integrados
- Sem erros em tempo de execução
